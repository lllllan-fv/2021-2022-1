<center>
    <h3>《Android应用开发》课程</h3>  
    <h3>实验报告</h3>
    <p>
        <strong>姓名</strong> 苏桐渤 &ensp; 
        <strong>学号</strong> 2019212212236 &ensp; 
        <strong>班级</strong> 软工192
    </p>
    <p>
        <strong>实验名称</strong> 数据持久化-SQLite 数据库存储&ensp;
        <strong>实验日期</strong> 2021/11/11
    </p>

## 实验目的



了解并掌握使用 SQLite 数据库存储的基本知识。掌握使用 SQLiteOpenHelper、 SQLiteDatabase 访问数据库，以及对数据库表中的数据进行增删改查的基本方法。



## 实验内容和要求



- 了解和掌握数据库存储的基本方法与步骤；
- 掌握相关 API 的使用；
- 综合使用前面所学的活动、ListView 组件。



## 实验过程及运行结果



#### 一、布置两个活动页面的基本样式



1. 主活动页面中添加标题栏右上角的菜单。

    - 在 `res` 目录下新建 `menu` 目录，对其右键生成`menu.xml`

    ![image-20211111164128473](D:\2021-2022-1\Android\lab09\2019212212236_苏桐渤.assets\image-20211111164128473.png)

    - 文件中添加两个选项 `Add` 和 `Delete`

    

    ![image-20211111164354005](D:\2021-2022-1\Android\lab09\2019212212236_苏桐渤.assets\image-20211111164354005.png)

    ```java
    <?xml version="1.0" encoding="utf-8"?>
    <menu xmlns:android="http://schemas.android.com/apk/res/android">
    
        <item
            android:id="@+id/menu_item_add"
            android:title="Add" />
    
        <item
            android:id="@+id/menu_item_del"
            android:title="Delete" />
    
    </menu>
    ```

    

2. 新建活动页面 `NewContactActivity`，在页面布局文件中添加对应的布局

![image-20211111164755587](D:\2021-2022-1\Android\lab09\2019212212236_苏桐渤.assets\image-20211111164755587.png)

```java
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".NewContactActivity"
    android:orientation="vertical">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <TextView
            android:layout_width="60dp"
            android:layout_height="wrap_content"
            android:text="姓名：" />

        <EditText
            android:id="@+id/new_contact_edittext_name"
            android:layout_width="match_parent"
            android:layout_height="wrap_content" />

    </LinearLayout>

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <TextView
            android:layout_width="60dp"
            android:layout_height="wrap_content"
            android:text="手机号：" />

        <EditText
            android:id="@+id/new_contact_edittext_tel"
            android:layout_width="match_parent"
            android:layout_height="wrap_content" />

    </LinearLayout>

    <Button
        android:id="@+id/new_contact_button_add"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="添加" />

</LinearLayout>
```

3. 为主活动页面中的 `Add` 按钮添加点击事件，确保能打开另一个活动页面
    - 重写 `onOptionsItemSelected` 方法，实现活动页面之间的跳转

```java
@Override
public boolean onOptionsItemSelected(@NonNull MenuItem item) {
    switch (item.getItemId()) {
        case R.id.menu_item_add:
            // 跳转到添加联系人页面。
            Intent intent = new Intent(MainActivity.this, NewContactActivity.class);
            startActivity(intent);
            break;
        case R.id.menu_item_del
            break;
    }
    return super.onOptionsItemSelected(item);
}
```



​	

## 问题分析与总结

